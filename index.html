<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RIX - Raebareli Industrial Exchange</title>
    <style>
        :root { --primary: #1a73e8; --success: #28a745; --gold: #ffd700; --dark: #1e293b; --light: #f8fafc; }
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; margin: 0; background: #f0f4f8; padding-bottom: 100px; -webkit-tap-highlight-color: transparent; }
        
        /* Header & Search */
        .header { background: linear-gradient(135deg, #1a73e8, #0d47a1); color: white; padding: 40px 20px; text-align: center; border-radius: 0 0 30px 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.2); }
        .search-container { margin: -30px 20px 0 20px; position: relative; z-index: 10; }
        #searchInput { width: 100%; padding: 18px 25px; border-radius: 35px; border: none; box-shadow: 0 10px 25px rgba(0,0,0,0.1); font-size: 16px; outline: none; box-sizing: border-box; }

        /* Inquiry Banner */
        .inquiry-banner { background: var(--dark); color: white; margin: 25px 15px 10px; padding: 18px; border-radius: 20px; display: flex; justify-content: space-between; align-items: center; border: 1px solid rgba(255,255,255,0.1); }
        .inquiry-text b { display: block; font-size: 16px; color: var(--gold); }
        .inquiry-text span { font-size: 12px; opacity: 0.8; }
        .post-btn { background: var(--gold); color: #000; padding: 10px 18px; border-radius: 12px; text-decoration: none; font-weight: 800; font-size: 13px; text-transform: uppercase; }

        /* Categories */
        .categories { display: flex; overflow-x: auto; padding: 15px; gap: 10px; scrollbar-width: none; }
        .categories::-webkit-scrollbar { display: none; }
        .chip { background: white; border: 1.5px solid var(--primary); color: var(--primary); padding: 10px 20px; border-radius: 25px; font-size: 13px; white-space: nowrap; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .chip.active { background: var(--primary); color: white; box-shadow: 0 4px 10px rgba(26, 115, 232, 0.3); }

        /* Shop Cards */
        .card { background: white; margin: 15px; padding: 20px; border-radius: 20px; display: flex; flex-direction: column; box-shadow: 0 5px 15px rgba(0,0,0,0.05); border-left: 8px solid #cbd5e1; position: relative; transition: 0.3s; }
        .card.featured { border-left-color: var(--gold); background: #fffef2; transform: scale(1.02); box-shadow: 0 8px 20px rgba(255, 215, 0, 0.15); }
        .verified-tag { background: #e0f2fe; color: var(--primary); font-size: 10px; padding: 4px 10px; border-radius: 6px; font-weight: 800; display: inline-block; margin-bottom: 8px; }
        
        .shop-name { margin: 0; font-size: 20px; color: var(--dark); display: flex; align-items: center; gap: 5px; }
        .shop-detail { margin: 5px 0; font-size: 14px; color: #64748b; display: flex; align-items: center; gap: 5px; }

        .btn-group { display: flex; gap: 12px; margin-top: 20px; }
        .btn { flex: 1; padding: 14px; border-radius: 15px; text-decoration: none; font-weight: 700; font-size: 14px; text-align: center; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .btn-call { background: var(--success); color: white; box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3); }
        .btn-share { background: #f1f5f9; color: var(--dark); }

        /* Bottom Navigation */
        .navbar { position: fixed; bottom: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid #e2e8f0; z-index: 1000; box-shadow: 0 -5px 20px rgba(0,0,0,0.05); }
        .nav-item { text-decoration: none; color: #94a3b8; font-size: 11px; font-weight: 700; text-align: center; }
        .nav-item.active { color: var(--primary); }
        .nav-special { background: var(--primary); color: white !important; padding: 10px 20px; border-radius: 15px; margin-top: -8px; box-shadow: 0 4px 12px rgba(26, 115, 232, 0.4); }

        /* Loading Animation */
        #loader { text-align: center; padding: 50px; color: #64748b; font-weight: 600; }
    </style>
</head>
<body>

    <div class="header">
        <h1 style="margin:0; font-size: 28px; letter-spacing: -1px;">RIX RAEBARELI</h1>
        <p style="margin:5px 0 0 0; opacity: 0.8; font-size: 14px;">Industrial Exchange Hub</p>
    </div>

    <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search for tools, shops, or services..." onkeyup="filterShops()">
    </div>

    <div class="inquiry-banner">
        <div class="inquiry-text">
            <b>Post a Requirement</b>
            <span>Directly message the admin for parts</span>
        </div>
        <a href="https://wa.me/917317208851?text=Hello%20RIX%20Admin,%20I%20need%20a%20specific%20industrial%20part/service:%20" class="post-btn">Post Now</a>
    </div>

    <div class="categories" id="catList">
        <div class="chip active" onclick="filterCat('All', this)">All</div>
        <div class="chip" onclick="filterCat('Spare Parts', this)">Spare Parts</div>
        <div class="chip" onclick="filterCat('Repairing', this)">Repairing</div>
        <div class="chip" onclick="filterCat('Hardware', this)">Hardware</div>
        <div class="chip" onclick="filterCat('Electrical', this)">Electrical</div>
    </div>

    <div id="shopList">
        <div id="loader">Fetching Local Data...</div>
    </div>

    <div class="navbar">
        <a href="#" class="nav-item active">üè†<br>HOME</a>
        <a href="https://wa.me/917317208851?text=I%20want%20to%20list%20my%20business%20on%20RIX" class="nav-item nav-special">üöÄ LIST SHOP</a>
        <a href="https://wa.me/917317208851?text=I%20want%20to%20advertise%20on%20RIX" class="nav-item">üí∞ EARN</a>
    </div>

    <script>
        // Your Google Sheets CSV Link
        const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSV8re2vW-TnHXqnW6LRXuwcU_NJScWKEj-EL9M0Ou6t3CAuUg4oeILRlfllGtVvm6FThUqBhBfsDs4/pub?output=csv";

        async function loadShops() {
            try {
                const response = await fetch(CSV_URL);
                const data = await response.text();
                const rows = data.split('\n').slice(1);
                const list = document.getElementById('shopList');
                list.innerHTML = '';

                rows.forEach(row => {
                    const col = row.split(',').map(item => item.trim().replace(/"/g, ""));
                    if(col[0]) {
                        const isPremium = col[4] === "YES";
                        const isVerified = col[5] === "YES";
                        const shareMsg = encodeURIComponent(`Find ${col[0]} on RIX Raebareli! üìç ${col[2]} üìû Tap to Call: ${col[3]}`);
                        
                        list.innerHTML += `
                            <div class="card ${isPremium ? 'featured' : ''}" data-category="${col[1]}">
                                ${isVerified ? '<span class="verified-tag">‚úÖ VERIFIED PARTNER</span>' : ''}
                                <h3 class="shop-name">${col[0]} ${isPremium ? '‚≠ê' : ''}</h3>
                                <p class="shop-detail">‚öôÔ∏è Category: ${col[1]}</p>
                                <p class="shop-detail">üìç Area: ${col[2]}</p>
                                <div class="btn-group">
                                    <a href="tel:${col[3]}" class="btn btn-call">üìû CALL NOW</a>
                                    <a href="https://wa.me/?text=${shareMsg}" class="btn btn-share">üîó SHARE</a>
                                </div>
                            </div>
                        `;
                    }
                });
            } catch (error) {
                document.getElementById('shopList').innerHTML = '<p style="text-align:center; padding:20px;">Connection Error. Refresh Page.</p>';
            }
        }

        function filterShops() {
            let input = document.getElementById('searchInput').value.toLowerCase();
            let cards = document.getElementsByClassName('card');
            for (let card of cards) {
                card.style.display = card.innerText.toLowerCase().includes(input) ? "flex" : "none";
            }
        }

        function filterCat(category, element) {
            let cards = document.getElementsByClassName('card');
            document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
            element.classList.add('active');
            
            for (let card of cards) {
                if(category === 'All') card.style.display = "flex";
                else card.style.display = card.getAttribute('data-category') === category ? "flex" : "none";
            }
        }

        // Initialize App
        loadShops();
    </script>
</body>
</html>
