<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RIX - Raebareli Industrial Exchange</title>
    <style>
        :root { --primary: #1a73e8; --success: #28a745; --gold: #ffd700; --dark: #1e293b; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #f0f4f8; padding-bottom: 100px; }
        
        /* Header Section */
        .header { background: linear-gradient(135deg, #1a73e8, #0d47a1); color: white; padding: 30px 15px; text-align: center; border-radius: 0 0 25px 25px; }
        .search-box { margin: -25px 20px 0 20px; }
        #searchInput { width: 100%; padding: 15px 20px; border-radius: 30px; border: none; box-shadow: 0 10px 25px rgba(0,0,0,0.1); font-size: 16px; outline: none; box-sizing: border-box; }

        /* Lead Generation Button */
        .lead-gen-banner { background: var(--dark); color: white; margin: 25px 15px 10px; padding: 15px; border-radius: 15px; display: flex; justify-content: space-between; align-items: center; }
        .lead-btn { background: var(--gold); color: black; padding: 8px 12px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 12px; }

        /* Categories */
        .categories { display: flex; overflow-x: auto; padding: 10px 15px; gap: 10px; scrollbar-width: none; }
        .chip { background: white; border: 1.5px solid var(--primary); color: var(--primary); padding: 8px 18px; border-radius: 20px; font-size: 13px; white-space: nowrap; font-weight: 600; cursor: pointer; }
        .chip.active { background: var(--primary); color: white; }

        /* Shop Cards */
        .card { background: white; margin: 12px 15px; padding: 18px; border-radius: 18px; display: flex; flex-direction: column; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border-left: 6px solid #ddd; position: relative; }
        .featured { border-left-color: var(--gold); background: #fffef0; }
        .verified-badge { color: var(--primary); font-size: 11px; font-weight: 800; margin-bottom: 5px; display: block; }
        
        .card-header { display: flex; justify-content: space-between; align-items: flex-start; }
        .shop-info h3 { margin: 0; font-size: 18px; color: var(--dark); }
        .shop-info p { margin: 3px 0; font-size: 13px; color: #64748b; }

        .card-actions { display: flex; gap: 10px; margin-top: 15px; }
        .action-btn { flex: 1; text-align: center; padding: 10px; border-radius: 10px; text-decoration: none; font-weight: bold; font-size: 14px; }
        .call-btn { background: var(--success); color: white; }
        .share-btn { background: #e2e8f0; color: var(--dark); }

        /* Footer Nav */
        .footer-nav { position: fixed; bottom: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid #eee; z-index: 1000; }
        .nav-btn { text-decoration: none; color: #64748b; font-size: 11px; text-align: center; font-weight: 600; }
        .add-business { background: var(--primary); color: white !important; padding: 10px 15px; border-radius: 12px; margin-top: -5px; }
    </style>
</head>
<body>

    <div class="header">
        <h1 style="margin:0;">RIX LIVE</h1>
        <p style="margin:5px 0 0 0; opacity:0.9; font-size: 14px;">Raebareli's Industrial Network</p>
    </div>

    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Search for motors, tools, shops..." onkeyup="filterShops()">
    </div>

    <div class="lead-gen-banner">
        <div>
            <div style="font-weight:bold; font-size:14px;">Need something specific?</div>
            <div style="font-size:11px; opacity:0.8;">Post your requirement here</div>
        </div>
        <a href="https://wa.me/917317208851?text=I%20need%20a%20specific%20industrial%20part:" class="lead-btn">POST NOW</a>
    </div>

    <div class="categories" id="catList">
        <div class="chip active" onclick="filterCat('All')">All</div>
        <div class="chip" onclick="filterCat('Spare Parts')">Spare Parts</div>
        <div class="chip" onclick="filterCat('Repairing')">Repairing</div>
        <div class="chip" onclick="filterCat('Hardware')">Hardware</div>
    </div>

    <div id="shopList">
        <div style="text-align:center; padding:50px; color:#94a3b8;">Connecting to Hub...</div>
    </div>

    <div class="footer-nav">
        <a href="#" class="nav-btn" style="color:var(--primary);">üè†<br>Home</a>
        <a href="https://wa.me/917317208851?text=Hi, I want to list my business on RIX" class="nav-btn add-business">üöÄ LIST SHOP</a>
        <a href="https://wa.me/917317208851?text=I%20want%20to%20advertise" class="nav-btn">üí∞ Advertise</a>
    </div>

    <script>
        const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSV8re2vW-TnHXqnW6LRXuwcU_NJScWKEj-EL9M0Ou6t3CAuUg4oeILRlfllGtVvm6FThUqBhBfsDs4/pub?output=csv";

        async function loadData() {
            try {
                const res = await fetch(CSV_URL);
                const data = await res.text();
                const rows = data.split('\n').slice(1);
                const container = document.getElementById('shopList');
                container.innerHTML = '';

                rows.forEach(row => {
                    const col = row.split(',').map(c => c.trim().replace(/"/g, ""));
                    if(col[0]) {
                        const isFeatured = col[4] === "YES"; 
                        const isVerified = col[5] === "YES"; 
                        const shareText = encodeURIComponent(`Check out ${col[0]} on RIX Raebareli! üìç ${col[2]} üõ†Ô∏è ${col[1]}`);
                        
                        container.innerHTML += `
                            <div class="card ${isFeatured ? 'featured' : ''}" data-cat="${col[1]}">
                                <div class="card-header">
                                    <div class="shop-info">
                                        ${isVerified ? '<span class="verified-badge">‚úÖ VERIFIED PARTNER</span>' : ''}
                                        <h3>${col[0]} ${isFeatured ? '‚≠ê' : ''}</h3>
                                        <p>‚öôÔ∏è ${col[1]}</p>
                                        <p>üìç ${col[2]}</p>
                                    </div>
                                </div>
                                <div class="card-actions">
                                    <a href="tel:${col[3]}" class="action-btn call-btn">üìû CALL</a>
                                    <a href="https://wa.me/?text=${shareText}" class="action-btn share-btn">üîó SHARE</a>
                                </div>
                            </div>
                        `;
                    }
                });
            } catch(e) { container.innerHTML = "<p style='text-align:center'>Loading Error</p>"; }
        }

        function filterShops() {
            let input = document.getElementById('searchInput').value.toLowerCase();
            let cards = document.getElementsByClassName('card');
            for (let card of cards) {
                card.style.display = card.innerText.toLowerCase().includes(input) ? "flex" : "none";
            }
        }

        function filterCat(cat) {
            let cards = document.getElementsByClassName('card');
            document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
            event.target.classList.add('active');
            for (let card of cards) {
                if(cat === 'All') card.style.display = "flex";
                else card.style.display = card.getAttribute('data-cat') === cat ? "flex" : "none";
            }
        }

        loadData();
    </script>
</body>
</html>
